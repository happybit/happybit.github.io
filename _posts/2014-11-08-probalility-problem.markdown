---
layout: post
title: "Probalility Problem"
date: 2014-11-08 20:57
comments: true$
categories: Others
---

上周因故需电话抢票，叫了几个朋友一起帮忙打电话抢。遇到一个问题，主办方有三部座机接受预订，我们是应该分散随机打三个电话，还是强攻其中一个呢？下面是我的分析。

<!--more-->

先做一些必要的assumption和simplification。

**假定**：

共计有900人(N<sub>total_people</sub>)抢票，3只(N<sub>groups</sub>)电话接受预订，每个人接通的机率相同，只取前60个(N<sub>lucky_ones</sub>)接通电话的人(平均每部电话有300人抢票，取前20人)。我方共有九人(N<sub>team_members</sub>)，其中任一人打通电话即算抽中。

**方案**：
1. 方案1，九人均分为三组，各自拨打各自对应的电话；
2. 方案2，九人全都打一个电话；

**问题**：

是第一种情况还是第二种情况被抽中的机率大？

**解析**:

假设方案1中单组人抽中的概率为a。单组都抽不中的概率即为1-a。那么所有组都抽不中的概率为(1-a)^3 。所以三组人抽中的概率为1-(1-a)<sup>3</sup>.

假设方案2中抽中的概率为b，可知，a和b的计算方式类似，只是参与抽奖的我方人员个数不同。现在需算出a和b分别是多少。

先计算b，在300人里，任意选20个人，不计顺序。抽中我方9人中任意一个的机率多大？换个思路，300人中，任意抽20个，我方9人全不在里面的机率多大？

任选20个不计顺序，总共有C(300, 20)种可能。去掉我方9人后，剩余291个人中任选20个的可能为C(291,20)，所以这9个人都不被选中的可能是 C(291,20)/C(300,20)。9人被选中的机率b就是1- C(291,20)/C(300,20)=46.72%。

同理，方案1中的a就是1-C(297,20)/C(300,20)=。所以方案1的最终概率为1-(1-a)<sup>3</sup>=46.37%

看起来差别不大，可是如将电话数改为9部，两者的被抽中的机率就分别是44.08%和16.94%了。可知将鸡蛋放在一个篮子里的中奖机率还是高于放在多个篮子里的机率，尤其是篮子较多的时候。当然这个里面我忽略了很多因素，比如一旦一个人抽中，和他同team的一批人都将撤出等，这里就不考虑这些了。

对了，我最终是选用第一种方案抢票，而我们最后也非常幸运地抢到了。

用Python写了个概率计算的小程序，放在[GitHub](https://github.com/happybit/playground/blob/master/20141108_possibility_problem.py)上了。如思路或计算过程有问题，请指正！